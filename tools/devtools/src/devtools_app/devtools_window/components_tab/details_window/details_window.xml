<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
  <t t-name="devtools.DetailsWindow" owl="1">
    <div class="panel-top d-flex align-items-center">
      <div class="ms-1 p-1" style="width: 100%;">
        <t t-if="store.activeComponent.path.length > 1">&lt;</t><b style="color: var(--component-color)" t-esc="store.activeComponent.name"/><t t-if="store.activeComponent.path.length > 1">&gt;</t>
      </div>
      <t t-if="store.activeComponent.path.length > 1">
        <i title="Inspect component in the Elements tab" class="fa fa-eye utility-icon p-1" t-on-click.stop="() => this.store.inspectComponent('DOM')"></i>
        <i title="Store component as global variable in the console" class="fa fa-bug utility-icon p-1" t-on-click.stop="() => this.store.logObjectInConsole()"></i>
        <i title="Inspect source code of component" class="fa fa-file-code-o utility-icon p-1" t-on-click.stop="() => this.store.inspectComponent('source')"></i>
        <i title="Trigger rerender of the component" class="fa fa-refresh utility-icon p-1" t-on-click.stop="() => this.store.refreshComponent()"></i>
      </t>
      <t t-else="">
        <i title="Store app as global variable in the console" class="fa fa-bug utility-icon p-1" t-on-click.stop="() => this.store.logObjectInConsole()"></i>
        <i title="Inspect source code of the app" class="fa fa-file-code-o utility-icon p-1" t-on-click.stop="() => this.store.inspectComponent('source')"></i>
      </t>
    </div>
    <div class="details-container">
      <div t-if="Object.keys(store.activeComponent.props).length > 0" class="details-panel ps-2 py-1">
        <div class="d-flex mb-2">
          <div class="w-100">
            <b>props</b>
          </div>
        </div>
        <t t-foreach="store.activeComponent.props" t-as="prop" t-key="prop_index">
          <ObjectTreeElement object="prop"/>
        </t>
      </div>
      <div t-if="store.activeComponent.subscriptions.length > 0" id="subscriptions" class="details-panel ps-2 py-1">
        <div class="d-flex">
          <div class="w-100">
            <b>observed state</b>
          </div>
          <i title="Store observed states as global variable in the console" class="fa fa-bug utility-icon p-1" t-on-click.stop="() => this.store.logObjectInConsole([...this.store.activeComponent.path, {type: 'item', value: 'subscriptions'}])"></i>
        </div>
        <Subscriptions/>
      </div>
      <div t-if="Object.keys(store.activeComponent.env).length > 0" id="env" class="details-panel ps-2 py-1">
        <div class="d-flex mb-2">
          <div class="w-100">
            <b>env</b>
          </div>
        </div>
        <t t-foreach="store.activeComponent.env" t-as="env" t-key="env_index">
          <ObjectTreeElement object="env"/>
        </t>
      </div>
      <div t-if="Object.keys(store.activeComponent.instance).length > 0"  id="instance" class="details-panel ps-2 py-1">
        <div class="d-flex mb-2">
          <div class="w-100">
            <b>instance</b>
          </div>
          <t t-if="store.activeComponent.path.length > 1">
            <i title="Inspect compiled template" class="fa fa-hashtag utility-icon p-1" t-on-click.stop="() => this.store.inspectComponent('compiled template')"></i>
            <i title="Send raw template to console" class="fa fa-file-word-o utility-icon p-1" t-on-click.stop="() => this.store.inspectComponent('raw template')"></i>
          </t>
        </div>
        <t t-foreach="store.activeComponent.instance" t-as="instance" t-key="instance_index">
          <ObjectTreeElement object="instance"/>
        </t>
      </div>
    </div>
  </t>
</templates>